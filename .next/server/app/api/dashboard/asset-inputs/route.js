"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/dashboard/asset-inputs/route";
exports.ids = ["app/api/dashboard/asset-inputs/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Fasset-inputs%2Froute&page=%2Fapi%2Fdashboard%2Fasset-inputs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fasset-inputs%2Froute.js&appDir=C%3A%5CProjects%5Crenew-pyth%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CProjects%5Crenew-pyth&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Fasset-inputs%2Froute&page=%2Fapi%2Fdashboard%2Fasset-inputs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fasset-inputs%2Froute.js&appDir=C%3A%5CProjects%5Crenew-pyth%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CProjects%5Crenew-pyth&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Projects_renew_pyth_app_api_dashboard_asset_inputs_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/dashboard/asset-inputs/route.js */ \"(rsc)/./app/api/dashboard/asset-inputs/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/dashboard/asset-inputs/route\",\n        pathname: \"/api/dashboard/asset-inputs\",\n        filename: \"route\",\n        bundlePath: \"app/api/dashboard/asset-inputs/route\"\n    },\n    resolvedPagePath: \"C:\\\\Projects\\\\renew-pyth\\\\app\\\\api\\\\dashboard\\\\asset-inputs\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Projects_renew_pyth_app_api_dashboard_asset_inputs_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/dashboard/asset-inputs/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkYXNoYm9hcmQlMkZhc3NldC1pbnB1dHMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmRhc2hib2FyZCUyRmFzc2V0LWlucHV0cyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmRhc2hib2FyZCUyRmFzc2V0LWlucHV0cyUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDUHJvamVjdHMlNUNyZW5ldy1weXRoJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDUHJvamVjdHMlNUNyZW5ldy1weXRoJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNxQjtBQUNsRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbmV3YWJsZWFzc2V0cy1uZXh0anMvPzQ3NDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcUHJvamVjdHNcXFxccmVuZXctcHl0aFxcXFxhcHBcXFxcYXBpXFxcXGRhc2hib2FyZFxcXFxhc3NldC1pbnB1dHNcXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Rhc2hib2FyZC9hc3NldC1pbnB1dHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9kYXNoYm9hcmQvYXNzZXQtaW5wdXRzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9kYXNoYm9hcmQvYXNzZXQtaW5wdXRzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcUHJvamVjdHNcXFxccmVuZXctcHl0aFxcXFxhcHBcXFxcYXBpXFxcXGRhc2hib2FyZFxcXFxhc3NldC1pbnB1dHNcXFxccm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2Rhc2hib2FyZC9hc3NldC1pbnB1dHMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Fasset-inputs%2Froute&page=%2Fapi%2Fdashboard%2Fasset-inputs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fasset-inputs%2Froute.js&appDir=C%3A%5CProjects%5Crenew-pyth%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CProjects%5Crenew-pyth&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/dashboard/asset-inputs/route.js":
/*!*************************************************!*\
  !*** ./app/api/dashboard/asset-inputs/route.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../lib/mongodb */ \"(rsc)/./lib/mongodb.js\");\n// app/api/dashboard/asset-inputs/route.js\n\n\nasync function GET() {\n    try {\n        const client = await _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n        const db = client.db(\"energy_contracts\");\n        // Try multiple collection names in order of preference\n        const possibleCollections = [\n            \"ASSET_inputs_summary\",\n            \"asset_inputs_summary\",\n            \"asset_inputs\" // Alternative collection\n        ];\n        let assetInputs = [];\n        let sourceCollection = null;\n        for (const collectionName of possibleCollections){\n            try {\n                const collection = db.collection(collectionName);\n                const count = await collection.countDocuments();\n                if (count > 0) {\n                    console.log(`Found ${count} documents in ${collectionName}`);\n                    assetInputs = await collection.find({}).toArray();\n                    sourceCollection = collectionName;\n                    break;\n                }\n            } catch (e) {\n                console.log(`Could not check collection ${collectionName}:`, e.message);\n            }\n        }\n        if (assetInputs.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                assets: [],\n                summary: {\n                    totalAssets: 0,\n                    totalCapacity: 0,\n                    totalCapex: 0,\n                    totalDebt: 0,\n                    totalEquity: 0,\n                    avgGearing: 0,\n                    avgIRR: 0\n                },\n                breakdown: {\n                    byType: {},\n                    byRegion: {},\n                    byFinancing: {}\n                },\n                source: \"no_data_found\",\n                searchedCollections: possibleCollections\n            });\n        }\n        console.log(`Using data from ${sourceCollection}, sample document:`, Object.keys(assetInputs[0]));\n        // Transform and enhance the data - handle different field name variations\n        const processedAssets = assetInputs.map((asset)=>{\n            // Handle different possible field names\n            const getId = ()=>asset.asset_id || asset.id || asset.assetId;\n            const getName = ()=>asset.asset_name || asset.name || asset.assetName || `Asset ${getId()}`;\n            const getType = ()=>asset.type || asset.assetType || \"unknown\";\n            const getRegion = ()=>asset.region || asset.assetRegion || \"unknown\";\n            const getCapacity = ()=>parseFloat(asset.capacity || asset.assetCapacity || 0);\n            return {\n                // Basic asset info\n                asset_id: getId(),\n                asset_name: getName(),\n                type: getType(),\n                region: getRegion(),\n                // Technical specifications\n                capacity: getCapacity(),\n                capacity_factor: parseFloat(asset.capacityFactor || asset.capacity_factor || asset.capacityFactor || 0),\n                annual_degradation: parseFloat(asset.annualDegradation || asset.annual_degradation || asset.degradation || 0),\n                volume_loss_adjustment: parseFloat(asset.volumeLossAdjustment || asset.volume_loss_adjustment || asset.volumeLoss || 95),\n                asset_life: parseInt(asset.assetLife || asset.asset_life || asset.life || 25),\n                // Dates\n                construction_start_date: asset.constructionStartDate || asset.construction_start_date || asset.constructionStart,\n                operating_start_date: asset.OperatingStartDate || asset.operating_start_date || asset.operatingStart || asset.assetStartDate,\n                // Financial assumptions - try multiple field name patterns\n                cost_capex: parseFloat(asset.cost_capex || asset.capex || asset.totalCapex || asset.CAPEX || 0),\n                cost_max_gearing: parseFloat(asset.cost_maxGearing || asset.maxGearing || asset.max_gearing || asset.gearing || 0),\n                cost_interest_rate: parseFloat(asset.cost_interestRate || asset.interestRate || asset.interest_rate || asset.debtInterestRate || 0),\n                cost_tenor_years: parseFloat(asset.cost_tenorYears || asset.tenorYears || asset.tenor || asset.debtTenor || 0),\n                cost_terminal_value: parseFloat(asset.cost_terminalValue || asset.terminalValue || asset.terminal_value || 0),\n                cost_operating_costs: parseFloat(asset.cost_operatingCosts || asset.operatingCosts || asset.opex || asset.OPEX || 0),\n                cost_operating_cost_escalation: parseFloat(asset.cost_operatingCostEscalation || asset.operatingCostEscalation || asset.opexEscalation || 0),\n                // Debt sizing results (if available)\n                debt_total_capex: parseFloat(asset.debt_total_capex || asset.totalCapex || 0),\n                debt_amount: parseFloat(asset.debt_amount || asset.debtAmount || asset.totalDebt || 0),\n                debt_equity_amount: parseFloat(asset.debt_equity_amount || asset.equityAmount || asset.totalEquity || 0),\n                debt_gearing: parseFloat(asset.debt_gearing || asset.actualGearing || asset.finalGearing || 0),\n                // Performance targets\n                target_dscr_contract: parseFloat(asset.cost_targetDSCRContract || asset.targetDSCRContract || asset.contractDSCR || 0),\n                target_dscr_merchant: parseFloat(asset.cost_targetDSCRMerchant || asset.targetDSCRMerchant || asset.merchantDSCR || 0),\n                // Contract information\n                contracts: asset.contracts || [],\n                // IRR if calculated\n                equity_irr: parseFloat(asset[\"Equity IRR\"] || asset.equityIRR || asset.irr || asset.IRR) || null,\n                // Timestamps\n                created_at: asset.createdAt || asset.created_at,\n                updated_at: asset.updatedAt || asset.updated_at,\n                // Include all original fields for debugging\n                _originalFields: Object.keys(asset)\n            };\n        });\n        // Calculate portfolio summary metrics\n        const totalAssets = processedAssets.length;\n        const totalCapacity = processedAssets.reduce((sum, asset)=>sum + asset.capacity, 0);\n        const totalCapex = processedAssets.reduce((sum, asset)=>sum + asset.cost_capex, 0);\n        const totalDebt = processedAssets.reduce((sum, asset)=>sum + asset.debt_amount, 0);\n        const totalEquity = processedAssets.reduce((sum, asset)=>sum + asset.debt_equity_amount, 0);\n        // Calculate averages (excluding zero values)\n        const assetsWithGearing = processedAssets.filter((asset)=>asset.debt_gearing > 0);\n        const avgGearing = assetsWithGearing.length > 0 ? assetsWithGearing.reduce((sum, asset)=>sum + asset.debt_gearing, 0) / assetsWithGearing.length : 0;\n        const assetsWithIRR = processedAssets.filter((asset)=>asset.equity_irr !== null && asset.equity_irr > 0);\n        const avgIRR = assetsWithIRR.length > 0 ? assetsWithIRR.reduce((sum, asset)=>sum + asset.equity_irr, 0) / assetsWithIRR.length : 0;\n        // Create breakdowns\n        const byType = processedAssets.reduce((acc, asset)=>{\n            acc[asset.type] = (acc[asset.type] || 0) + 1;\n            return acc;\n        }, {});\n        const byRegion = processedAssets.reduce((acc, asset)=>{\n            acc[asset.region] = (acc[asset.region] || 0) + 1;\n            return acc;\n        }, {});\n        const byFinancing = processedAssets.reduce((acc, asset)=>{\n            if (asset.debt_gearing > 0.7) {\n                acc[\"High Gearing (>70%)\"] = (acc[\"High Gearing (>70%)\"] || 0) + 1;\n            } else if (asset.debt_gearing > 0.3) {\n                acc[\"Medium Gearing (30-70%)\"] = (acc[\"Medium Gearing (30-70%)\"] || 0) + 1;\n            } else if (asset.debt_gearing > 0) {\n                acc[\"Low Gearing (<30%)\"] = (acc[\"Low Gearing (<30%)\"] || 0) + 1;\n            } else {\n                acc[\"100% Equity\"] = (acc[\"100% Equity\"] || 0) + 1;\n            }\n            return acc;\n        }, {});\n        // Calculate capacity and CAPEX by type\n        const capacityByType = processedAssets.reduce((acc, asset)=>{\n            acc[asset.type] = (acc[asset.type] || 0) + asset.capacity;\n            return acc;\n        }, {});\n        const capexByType = processedAssets.reduce((acc, asset)=>{\n            acc[asset.type] = (acc[asset.type] || 0) + asset.cost_capex;\n            return acc;\n        }, {});\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            assets: processedAssets,\n            summary: {\n                totalAssets,\n                totalCapacity,\n                totalCapex,\n                totalDebt,\n                totalEquity,\n                avgGearing,\n                avgIRR,\n                portfolioGearing: totalCapex > 0 ? totalDebt / totalCapex : 0\n            },\n            breakdown: {\n                byType,\n                byRegion,\n                byFinancing,\n                capacityByType,\n                capexByType\n            },\n            metadata: {\n                source: sourceCollection,\n                assetCount: totalAssets,\n                hasIRRData: assetsWithIRR.length > 0,\n                hasDebtData: assetsWithGearing.length > 0,\n                lastUpdated: new Date().toISOString(),\n                searchedCollections: possibleCollections,\n                rawSampleDocument: assetInputs[0] // Include first raw document for debugging\n            }\n        });\n    } catch (error) {\n        console.error(\"Asset inputs summary API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch asset inputs summary\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2Rhc2hib2FyZC9hc3NldC1pbnB1dHMvcm91dGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMENBQTBDO0FBQ0E7QUFDUztBQUU1QyxlQUFlRTtJQUNwQixJQUFJO1FBQ0YsTUFBTUMsU0FBUyxNQUFNRixvREFBYUE7UUFDbEMsTUFBTUcsS0FBS0QsT0FBT0MsRUFBRSxDQUFDQyxrQkFBc0I7UUFFM0MsdURBQXVEO1FBQ3ZELE1BQU1HLHNCQUFzQjtZQUMxQjtZQUNBO1lBQ0EsZUFBeUIseUJBQXlCO1NBQ25EO1FBRUQsSUFBSUMsY0FBYyxFQUFFO1FBQ3BCLElBQUlDLG1CQUFtQjtRQUV2QixLQUFLLE1BQU1DLGtCQUFrQkgsb0JBQXFCO1lBQ2hELElBQUk7Z0JBQ0YsTUFBTUksYUFBYVIsR0FBR1EsVUFBVSxDQUFDRDtnQkFDakMsTUFBTUUsUUFBUSxNQUFNRCxXQUFXRSxjQUFjO2dCQUU3QyxJQUFJRCxRQUFRLEdBQUc7b0JBQ2JFLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRUgsTUFBTSxjQUFjLEVBQUVGLGVBQWUsQ0FBQztvQkFDM0RGLGNBQWMsTUFBTUcsV0FBV0ssSUFBSSxDQUFDLENBQUMsR0FBR0MsT0FBTztvQkFDL0NSLG1CQUFtQkM7b0JBQ25CO2dCQUNGO1lBQ0YsRUFBRSxPQUFPUSxHQUFHO2dCQUNWSixRQUFRQyxHQUFHLENBQUMsQ0FBQywyQkFBMkIsRUFBRUwsZUFBZSxDQUFDLENBQUMsRUFBRVEsRUFBRUMsT0FBTztZQUN4RTtRQUNGO1FBRUEsSUFBSVgsWUFBWVksTUFBTSxLQUFLLEdBQUc7WUFDNUIsT0FBT3JCLHFEQUFZQSxDQUFDc0IsSUFBSSxDQUFDO2dCQUN2QkMsUUFBUSxFQUFFO2dCQUNWQyxTQUFTO29CQUNQQyxhQUFhO29CQUNiQyxlQUFlO29CQUNmQyxZQUFZO29CQUNaQyxXQUFXO29CQUNYQyxhQUFhO29CQUNiQyxZQUFZO29CQUNaQyxRQUFRO2dCQUNWO2dCQUNBQyxXQUFXO29C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QUM7UUFFSixNQUFNRSxjQUFjeEcsZ0JBQWdCaUcsTUFBTSxDQUFDLENBQUNLLEtBQUtwRztZQUMvQ29HLEdBQUcsQ0FBQ3BHLE1BQU1VLElBQUksQ0FBQyxHQUFHLENBQUMwRixHQUFHLENBQUNwRyxNQUFNVSxJQUFJLENBQUMsSUFBSSxLQUFLVixNQUFNc0MsVUFBVTtZQUMzRCxPQUFPOEQ7UUFDVCxHQUFHLENBQUM7UUFFSixPQUFPOUkscURBQVlBLENBQUNzQixJQUFJLENBQUM7WUFDdkJDLFFBQVFpQjtZQUNSaEIsU0FBUztnQkFDUEM7Z0JBQ0FDO2dCQUNBQztnQkFDQUM7Z0JBQ0FDO2dCQUNBQztnQkFDQUM7Z0JBQ0FrSCxrQkFBa0J0SCxhQUFhLElBQUlDLFlBQVlELGFBQWE7WUFDOUQ7WUFDQUssV0FBVztnQkFDVEM7Z0JBQ0FDO2dCQUNBQztnQkFDQTRHO2dCQUNBQztZQUNGO1lBQ0FFLFVBQVU7Z0JBQ1I5RyxRQUFRMUI7Z0JBQ1J5SSxZQUFZMUg7Z0JBQ1oySCxZQUFZUCxjQUFjeEgsTUFBTSxHQUFHO2dCQUNuQ2dJLGFBQWFWLGtCQUFrQnRILE1BQU0sR0FBRztnQkFDeENpSSxhQUFhLElBQUlDLE9BQU9DLFdBQVc7Z0JBQ25DbkgscUJBQXFCN0I7Z0JBQ3JCaUosbUJBQW1CaEosV0FBVyxDQUFDLEVBQUUsQ0FBQywyQ0FBMkM7WUFDL0U7UUFDRjtJQUVGLEVBQUUsT0FBT2lKLE9BQU87UUFDZDNJLFFBQVEySSxLQUFLLENBQUMsbUNBQW1DQTtRQUNqRCxPQUFPMUoscURBQVlBLENBQUNzQixJQUFJLENBQ3RCO1lBQUVvSSxPQUFPO1lBQXdDQyxTQUFTRCxNQUFNdEksT0FBTztRQUFDLEdBQ3hFO1lBQUV3SSxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbmV3YWJsZWFzc2V0cy1uZXh0anMvLi9hcHAvYXBpL2Rhc2hib2FyZC9hc3NldC1pbnB1dHMvcm91dGUuanM/YTIyMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhcHAvYXBpL2Rhc2hib2FyZC9hc3NldC1pbnB1dHMvcm91dGUuanNcbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IGNsaWVudFByb21pc2UgZnJvbSAnLi4vLi4vLi4vLi4vbGliL21vbmdvZGInXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxuICAgIGNvbnN0IGRiID0gY2xpZW50LmRiKHByb2Nlc3MuZW52Lk1PTkdPREJfREIpXG4gICAgXG4gICAgLy8gVHJ5IG11bHRpcGxlIGNvbGxlY3Rpb24gbmFtZXMgaW4gb3JkZXIgb2YgcHJlZmVyZW5jZVxuICAgIGNvbnN0IHBvc3NpYmxlQ29sbGVjdGlvbnMgPSBbXG4gICAgICAnQVNTRVRfaW5wdXRzX3N1bW1hcnknLCAgLy8gRXhwZWN0ZWQgY29sbGVjdGlvblxuICAgICAgJ2Fzc2V0X2lucHV0c19zdW1tYXJ5JywgIC8vIExvd2VyY2FzZSB2YXJpYW50XG4gICAgICAnYXNzZXRfaW5wdXRzJyAgICAgICAgICAgLy8gQWx0ZXJuYXRpdmUgY29sbGVjdGlvblxuICAgIF1cbiAgICBcbiAgICBsZXQgYXNzZXRJbnB1dHMgPSBbXVxuICAgIGxldCBzb3VyY2VDb2xsZWN0aW9uID0gbnVsbFxuICAgIFxuICAgIGZvciAoY29uc3QgY29sbGVjdGlvbk5hbWUgb2YgcG9zc2libGVDb2xsZWN0aW9ucykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oY29sbGVjdGlvbk5hbWUpXG4gICAgICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgY29sbGVjdGlvbi5jb3VudERvY3VtZW50cygpXG4gICAgICAgIFxuICAgICAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kICR7Y291bnR9IGRvY3VtZW50cyBpbiAke2NvbGxlY3Rpb25OYW1lfWApXG4gICAgICAgICAgYXNzZXRJbnB1dHMgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmQoe30pLnRvQXJyYXkoKVxuICAgICAgICAgIHNvdXJjZUNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uTmFtZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coYENvdWxkIG5vdCBjaGVjayBjb2xsZWN0aW9uICR7Y29sbGVjdGlvbk5hbWV9OmAsIGUubWVzc2FnZSlcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKGFzc2V0SW5wdXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgYXNzZXRzOiBbXSxcbiAgICAgICAgc3VtbWFyeToge1xuICAgICAgICAgIHRvdGFsQXNzZXRzOiAwLFxuICAgICAgICAgIHRvdGFsQ2FwYWNpdHk6IDAsXG4gICAgICAgICAgdG90YWxDYXBleDogMCxcbiAgICAgICAgICB0b3RhbERlYnQ6IDAsXG4gICAgICAgICAgdG90YWxFcXVpdHk6IDAsXG4gICAgICAgICAgYXZnR2VhcmluZzogMCxcbiAgICAgICAgICBhdmdJUlI6IDBcbiAgICAgICAgfSxcbiAgICAgICAgYnJlYWtkb3duOiB7XG4gICAgICAgICAgYnlUeXBlOiB7fSxcbiAgICAgICAgICBieVJlZ2lvbjoge30sXG4gICAgICAgICAgYnlGaW5hbmNpbmc6IHt9XG4gICAgICAgIH0sXG4gICAgICAgIHNvdXJjZTogJ25vX2RhdGFfZm91bmQnLFxuICAgICAgICBzZWFyY2hlZENvbGxlY3Rpb25zOiBwb3NzaWJsZUNvbGxlY3Rpb25zXG4gICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZyhgVXNpbmcgZGF0YSBmcm9tICR7c291cmNlQ29sbGVjdGlvbn0sIHNhbXBsZSBkb2N1bWVudDpgLCBPYmplY3Qua2V5cyhhc3NldElucHV0c1swXSkpXG4gICAgXG4gICAgLy8gVHJhbnNmb3JtIGFuZCBlbmhhbmNlIHRoZSBkYXRhIC0gaGFuZGxlIGRpZmZlcmVudCBmaWVsZCBuYW1lIHZhcmlhdGlvbnNcbiAgICBjb25zdCBwcm9jZXNzZWRBc3NldHMgPSBhc3NldElucHV0cy5tYXAoYXNzZXQgPT4ge1xuICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCBwb3NzaWJsZSBmaWVsZCBuYW1lc1xuICAgICAgY29uc3QgZ2V0SWQgPSAoKSA9PiBhc3NldC5hc3NldF9pZCB8fCBhc3NldC5pZCB8fCBhc3NldC5hc3NldElkXG4gICAgICBjb25zdCBnZXROYW1lID0gKCkgPT4gYXNzZXQuYXNzZXRfbmFtZSB8fCBhc3NldC5uYW1lIHx8IGFzc2V0LmFzc2V0TmFtZSB8fCBgQXNzZXQgJHtnZXRJZCgpfWBcbiAgICAgIGNvbnN0IGdldFR5cGUgPSAoKSA9PiBhc3NldC50eXBlIHx8IGFzc2V0LmFzc2V0VHlwZSB8fCAndW5rbm93bidcbiAgICAgIGNvbnN0IGdldFJlZ2lvbiA9ICgpID0+IGFzc2V0LnJlZ2lvbiB8fCBhc3NldC5hc3NldFJlZ2lvbiB8fCAndW5rbm93bidcbiAgICAgIGNvbnN0IGdldENhcGFjaXR5ID0gKCkgPT4gcGFyc2VGbG9hdChhc3NldC5jYXBhY2l0eSB8fCBhc3NldC5hc3NldENhcGFjaXR5IHx8IDApXG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC8vIEJhc2ljIGFzc2V0IGluZm9cbiAgICAgICAgYXNzZXRfaWQ6IGdldElkKCksXG4gICAgICAgIGFzc2V0X25hbWU6IGdldE5hbWUoKSxcbiAgICAgICAgdHlwZTogZ2V0VHlwZSgpLFxuICAgICAgICByZWdpb246IGdldFJlZ2lvbigpLFxuICAgICAgICBcbiAgICAgICAgLy8gVGVjaG5pY2FsIHNwZWNpZmljYXRpb25zXG4gICAgICAgIGNhcGFjaXR5OiBnZXRDYXBhY2l0eSgpLFxuICAgICAgICBjYXBhY2l0eV9mYWN0b3I6IHBhcnNlRmxvYXQoYXNzZXQuY2FwYWNpdHlGYWN0b3IgfHwgYXNzZXQuY2FwYWNpdHlfZmFjdG9yIHx8IGFzc2V0LmNhcGFjaXR5RmFjdG9yIHx8IDApLFxuICAgICAgICBhbm51YWxfZGVncmFkYXRpb246IHBhcnNlRmxvYXQoYXNzZXQuYW5udWFsRGVncmFkYXRpb24gfHwgYXNzZXQuYW5udWFsX2RlZ3JhZGF0aW9uIHx8IGFzc2V0LmRlZ3JhZGF0aW9uIHx8IDApLFxuICAgICAgICB2b2x1bWVfbG9zc19hZGp1c3RtZW50OiBwYXJzZUZsb2F0KGFzc2V0LnZvbHVtZUxvc3NBZGp1c3RtZW50IHx8IGFzc2V0LnZvbHVtZV9sb3NzX2FkanVzdG1lbnQgfHwgYXNzZXQudm9sdW1lTG9zcyB8fCA5NSksXG4gICAgICAgIGFzc2V0X2xpZmU6IHBhcnNlSW50KGFzc2V0LmFzc2V0TGlmZSB8fCBhc3NldC5hc3NldF9saWZlIHx8IGFzc2V0LmxpZmUgfHwgMjUpLFxuICAgICAgICBcbiAgICAgICAgLy8gRGF0ZXNcbiAgICAgICAgY29uc3RydWN0aW9uX3N0YXJ0X2RhdGU6IGFzc2V0LmNvbnN0cnVjdGlvblN0YXJ0RGF0ZSB8fCBhc3NldC5jb25zdHJ1Y3Rpb25fc3RhcnRfZGF0ZSB8fCBhc3NldC5jb25zdHJ1Y3Rpb25TdGFydCxcbiAgICAgICAgb3BlcmF0aW5nX3N0YXJ0X2RhdGU6IGFzc2V0Lk9wZXJhdGluZ1N0YXJ0RGF0ZSB8fCBhc3NldC5vcGVyYXRpbmdfc3RhcnRfZGF0ZSB8fCBhc3NldC5vcGVyYXRpbmdTdGFydCB8fCBhc3NldC5hc3NldFN0YXJ0RGF0ZSxcbiAgICAgICAgXG4gICAgICAgIC8vIEZpbmFuY2lhbCBhc3N1bXB0aW9ucyAtIHRyeSBtdWx0aXBsZSBmaWVsZCBuYW1lIHBhdHRlcm5zXG4gICAgICAgIGNvc3RfY2FwZXg6IHBhcnNlRmxvYXQoYXNzZXQuY29zdF9jYXBleCB8fCBhc3NldC5jYXBleCB8fCBhc3NldC50b3RhbENhcGV4IHx8IGFzc2V0LkNBUEVYIHx8IDApLFxuICAgICAgICBjb3N0X21heF9nZWFyaW5nOiBwYXJzZUZsb2F0KGFzc2V0LmNvc3RfbWF4R2VhcmluZyB8fCBhc3NldC5tYXhHZWFyaW5nIHx8IGFzc2V0Lm1heF9nZWFyaW5nIHx8IGFzc2V0LmdlYXJpbmcgfHwgMCksXG4gICAgICAgIGNvc3RfaW50ZXJlc3RfcmF0ZTogcGFyc2VGbG9hdChhc3NldC5jb3N0X2ludGVyZXN0UmF0ZSB8fCBhc3NldC5pbnRlcmVzdFJhdGUgfHwgYXNzZXQuaW50ZXJlc3RfcmF0ZSB8fCBhc3NldC5kZWJ0SW50ZXJlc3RSYXRlIHx8IDApLFxuICAgICAgICBjb3N0X3Rlbm9yX3llYXJzOiBwYXJzZUZsb2F0KGFzc2V0LmNvc3RfdGVub3JZZWFycyB8fCBhc3NldC50ZW5vclllYXJzIHx8IGFzc2V0LnRlbm9yIHx8IGFzc2V0LmRlYnRUZW5vciB8fCAwKSxcbiAgICAgICAgY29zdF90ZXJtaW5hbF92YWx1ZTogcGFyc2VGbG9hdChhc3NldC5jb3N0X3Rlcm1pbmFsVmFsdWUgfHwgYXNzZXQudGVybWluYWxWYWx1ZSB8fCBhc3NldC50ZXJtaW5hbF92YWx1ZSB8fCAwKSxcbiAgICAgICAgY29zdF9vcGVyYXRpbmdfY29zdHM6IHBhcnNlRmxvYXQoYXNzZXQuY29zdF9vcGVyYXRpbmdDb3N0cyB8fCBhc3NldC5vcGVyYXRpbmdDb3N0cyB8fCBhc3NldC5vcGV4IHx8IGFzc2V0Lk9QRVggfHwgMCksXG4gICAgICAgIGNvc3Rfb3BlcmF0aW5nX2Nvc3RfZXNjYWxhdGlvbjogcGFyc2VGbG9hdChhc3NldC5jb3N0X29wZXJhdGluZ0Nvc3RFc2NhbGF0aW9uIHx8IGFzc2V0Lm9wZXJhdGluZ0Nvc3RFc2NhbGF0aW9uIHx8IGFzc2V0Lm9wZXhFc2NhbGF0aW9uIHx8IDApLFxuICAgICAgICBcbiAgICAgICAgLy8gRGVidCBzaXppbmcgcmVzdWx0cyAoaWYgYXZhaWxhYmxlKVxuICAgICAgICBkZWJ0X3RvdGFsX2NhcGV4OiBwYXJzZUZsb2F0KGFzc2V0LmRlYnRfdG90YWxfY2FwZXggfHwgYXNzZXQudG90YWxDYXBleCB8fCAwKSxcbiAgICAgICAgZGVidF9hbW91bnQ6IHBhcnNlRmxvYXQoYXNzZXQuZGVidF9hbW91bnQgfHwgYXNzZXQuZGVidEFtb3VudCB8fCBhc3NldC50b3RhbERlYnQgfHwgMCksXG4gICAgICAgIGRlYnRfZXF1aXR5X2Ftb3VudDogcGFyc2VGbG9hdChhc3NldC5kZWJ0X2VxdWl0eV9hbW91bnQgfHwgYXNzZXQuZXF1aXR5QW1vdW50IHx8IGFzc2V0LnRvdGFsRXF1aXR5IHx8IDApLFxuICAgICAgICBkZWJ0X2dlYXJpbmc6IHBhcnNlRmxvYXQoYXNzZXQuZGVidF9nZWFyaW5nIHx8IGFzc2V0LmFjdHVhbEdlYXJpbmcgfHwgYXNzZXQuZmluYWxHZWFyaW5nIHx8IDApLFxuICAgICAgICBcbiAgICAgICAgLy8gUGVyZm9ybWFuY2UgdGFyZ2V0c1xuICAgICAgICB0YXJnZXRfZHNjcl9jb250cmFjdDogcGFyc2VGbG9hdChhc3NldC5jb3N0X3RhcmdldERTQ1JDb250cmFjdCB8fCBhc3NldC50YXJnZXREU0NSQ29udHJhY3QgfHwgYXNzZXQuY29udHJhY3REU0NSIHx8IDApLFxuICAgICAgICB0YXJnZXRfZHNjcl9tZXJjaGFudDogcGFyc2VGbG9hdChhc3NldC5jb3N0X3RhcmdldERTQ1JNZXJjaGFudCB8fCBhc3NldC50YXJnZXREU0NSTWVyY2hhbnQgfHwgYXNzZXQubWVyY2hhbnREU0NSIHx8IDApLFxuICAgICAgICBcbiAgICAgICAgLy8gQ29udHJhY3QgaW5mb3JtYXRpb25cbiAgICAgICAgY29udHJhY3RzOiBhc3NldC5jb250cmFjdHMgfHwgW10sXG4gICAgICAgIFxuICAgICAgICAvLyBJUlIgaWYgY2FsY3VsYXRlZFxuICAgICAgICBlcXVpdHlfaXJyOiBwYXJzZUZsb2F0KGFzc2V0WydFcXVpdHkgSVJSJ10gfHwgYXNzZXQuZXF1aXR5SVJSIHx8IGFzc2V0LmlyciB8fCBhc3NldC5JUlIpIHx8IG51bGwsXG4gICAgICAgIFxuICAgICAgICAvLyBUaW1lc3RhbXBzXG4gICAgICAgIGNyZWF0ZWRfYXQ6IGFzc2V0LmNyZWF0ZWRBdCB8fCBhc3NldC5jcmVhdGVkX2F0LFxuICAgICAgICB1cGRhdGVkX2F0OiBhc3NldC51cGRhdGVkQXQgfHwgYXNzZXQudXBkYXRlZF9hdCxcbiAgICAgICAgXG4gICAgICAgIC8vIEluY2x1ZGUgYWxsIG9yaWdpbmFsIGZpZWxkcyBmb3IgZGVidWdnaW5nXG4gICAgICAgIF9vcmlnaW5hbEZpZWxkczogT2JqZWN0LmtleXMoYXNzZXQpXG4gICAgICB9XG4gICAgfSlcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgcG9ydGZvbGlvIHN1bW1hcnkgbWV0cmljc1xuICAgIGNvbnN0IHRvdGFsQXNzZXRzID0gcHJvY2Vzc2VkQXNzZXRzLmxlbmd0aFxuICAgIGNvbnN0IHRvdGFsQ2FwYWNpdHkgPSBwcm9jZXNzZWRBc3NldHMucmVkdWNlKChzdW0sIGFzc2V0KSA9PiBzdW0gKyBhc3NldC5jYXBhY2l0eSwgMClcbiAgICBjb25zdCB0b3RhbENhcGV4ID0gcHJvY2Vzc2VkQXNzZXRzLnJlZHVjZSgoc3VtLCBhc3NldCkgPT4gc3VtICsgYXNzZXQuY29zdF9jYXBleCwgMClcbiAgICBjb25zdCB0b3RhbERlYnQgPSBwcm9jZXNzZWRBc3NldHMucmVkdWNlKChzdW0sIGFzc2V0KSA9PiBzdW0gKyBhc3NldC5kZWJ0X2Ftb3VudCwgMClcbiAgICBjb25zdCB0b3RhbEVxdWl0eSA9IHByb2Nlc3NlZEFzc2V0cy5yZWR1Y2UoKHN1bSwgYXNzZXQpID0+IHN1bSArIGFzc2V0LmRlYnRfZXF1aXR5X2Ftb3VudCwgMClcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgYXZlcmFnZXMgKGV4Y2x1ZGluZyB6ZXJvIHZhbHVlcylcbiAgICBjb25zdCBhc3NldHNXaXRoR2VhcmluZyA9IHByb2Nlc3NlZEFzc2V0cy5maWx0ZXIoYXNzZXQgPT4gYXNzZXQuZGVidF9nZWFyaW5nID4gMClcbiAgICBjb25zdCBhdmdHZWFyaW5nID0gYXNzZXRzV2l0aEdlYXJpbmcubGVuZ3RoID4gMCBcbiAgICAgID8gYXNzZXRzV2l0aEdlYXJpbmcucmVkdWNlKChzdW0sIGFzc2V0KSA9PiBzdW0gKyBhc3NldC5kZWJ0X2dlYXJpbmcsIDApIC8gYXNzZXRzV2l0aEdlYXJpbmcubGVuZ3RoIFxuICAgICAgOiAwXG4gICAgXG4gICAgY29uc3QgYXNzZXRzV2l0aElSUiA9IHByb2Nlc3NlZEFzc2V0cy5maWx0ZXIoYXNzZXQgPT4gYXNzZXQuZXF1aXR5X2lyciAhPT0gbnVsbCAmJiBhc3NldC5lcXVpdHlfaXJyID4gMClcbiAgICBjb25zdCBhdmdJUlIgPSBhc3NldHNXaXRoSVJSLmxlbmd0aCA+IDAgXG4gICAgICA/IGFzc2V0c1dpdGhJUlIucmVkdWNlKChzdW0sIGFzc2V0KSA9PiBzdW0gKyBhc3NldC5lcXVpdHlfaXJyLCAwKSAvIGFzc2V0c1dpdGhJUlIubGVuZ3RoIFxuICAgICAgOiAwXG4gICAgXG4gICAgLy8gQ3JlYXRlIGJyZWFrZG93bnNcbiAgICBjb25zdCBieVR5cGUgPSBwcm9jZXNzZWRBc3NldHMucmVkdWNlKChhY2MsIGFzc2V0KSA9PiB7XG4gICAgICBhY2NbYXNzZXQudHlwZV0gPSAoYWNjW2Fzc2V0LnR5cGVdIHx8IDApICsgMVxuICAgICAgcmV0dXJuIGFjY1xuICAgIH0sIHt9KVxuICAgIFxuICAgIGNvbnN0IGJ5UmVnaW9uID0gcHJvY2Vzc2VkQXNzZXRzLnJlZHVjZSgoYWNjLCBhc3NldCkgPT4ge1xuICAgICAgYWNjW2Fzc2V0LnJlZ2lvbl0gPSAoYWNjW2Fzc2V0LnJlZ2lvbl0gfHwgMCkgKyAxXG4gICAgICByZXR1cm4gYWNjXG4gICAgfSwge30pXG4gICAgXG4gICAgY29uc3QgYnlGaW5hbmNpbmcgPSBwcm9jZXNzZWRBc3NldHMucmVkdWNlKChhY2MsIGFzc2V0KSA9PiB7XG4gICAgICBpZiAoYXNzZXQuZGVidF9nZWFyaW5nID4gMC43KSB7XG4gICAgICAgIGFjY1snSGlnaCBHZWFyaW5nICg+NzAlKSddID0gKGFjY1snSGlnaCBHZWFyaW5nICg+NzAlKSddIHx8IDApICsgMVxuICAgICAgfSBlbHNlIGlmIChhc3NldC5kZWJ0X2dlYXJpbmcgPiAwLjMpIHtcbiAgICAgICAgYWNjWydNZWRpdW0gR2VhcmluZyAoMzAtNzAlKSddID0gKGFjY1snTWVkaXVtIEdlYXJpbmcgKDMwLTcwJSknXSB8fCAwKSArIDFcbiAgICAgIH0gZWxzZSBpZiAoYXNzZXQuZGVidF9nZWFyaW5nID4gMCkge1xuICAgICAgICBhY2NbJ0xvdyBHZWFyaW5nICg8MzAlKSddID0gKGFjY1snTG93IEdlYXJpbmcgKDwzMCUpJ10gfHwgMCkgKyAxXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY2NbJzEwMCUgRXF1aXR5J10gPSAoYWNjWycxMDAlIEVxdWl0eSddIHx8IDApICsgMVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFjY1xuICAgIH0sIHt9KVxuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBjYXBhY2l0eSBhbmQgQ0FQRVggYnkgdHlwZVxuICAgIGNvbnN0IGNhcGFjaXR5QnlUeXBlID0gcHJvY2Vzc2VkQXNzZXRzLnJlZHVjZSgoYWNjLCBhc3NldCkgPT4ge1xuICAgICAgYWNjW2Fzc2V0LnR5cGVdID0gKGFjY1thc3NldC50eXBlXSB8fCAwKSArIGFzc2V0LmNhcGFjaXR5XG4gICAgICByZXR1cm4gYWNjXG4gICAgfSwge30pXG4gICAgXG4gICAgY29uc3QgY2FwZXhCeVR5cGUgPSBwcm9jZXNzZWRBc3NldHMucmVkdWNlKChhY2MsIGFzc2V0KSA9PiB7XG4gICAgICBhY2NbYXNzZXQudHlwZV0gPSAoYWNjW2Fzc2V0LnR5cGVdIHx8IDApICsgYXNzZXQuY29zdF9jYXBleFxuICAgICAgcmV0dXJuIGFjY1xuICAgIH0sIHt9KVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBhc3NldHM6IHByb2Nlc3NlZEFzc2V0cyxcbiAgICAgIHN1bW1hcnk6IHtcbiAgICAgICAgdG90YWxBc3NldHMsXG4gICAgICAgIHRvdGFsQ2FwYWNpdHksXG4gICAgICAgIHRvdGFsQ2FwZXgsXG4gICAgICAgIHRvdGFsRGVidCxcbiAgICAgICAgdG90YWxFcXVpdHksXG4gICAgICAgIGF2Z0dlYXJpbmcsXG4gICAgICAgIGF2Z0lSUixcbiAgICAgICAgcG9ydGZvbGlvR2VhcmluZzogdG90YWxDYXBleCA+IDAgPyB0b3RhbERlYnQgLyB0b3RhbENhcGV4IDogMFxuICAgICAgfSxcbiAgICAgIGJyZWFrZG93bjoge1xuICAgICAgICBieVR5cGUsXG4gICAgICAgIGJ5UmVnaW9uLFxuICAgICAgICBieUZpbmFuY2luZyxcbiAgICAgICAgY2FwYWNpdHlCeVR5cGUsXG4gICAgICAgIGNhcGV4QnlUeXBlXG4gICAgICB9LFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgc291cmNlOiBzb3VyY2VDb2xsZWN0aW9uLFxuICAgICAgICBhc3NldENvdW50OiB0b3RhbEFzc2V0cyxcbiAgICAgICAgaGFzSVJSRGF0YTogYXNzZXRzV2l0aElSUi5sZW5ndGggPiAwLFxuICAgICAgICBoYXNEZWJ0RGF0YTogYXNzZXRzV2l0aEdlYXJpbmcubGVuZ3RoID4gMCxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgc2VhcmNoZWRDb2xsZWN0aW9uczogcG9zc2libGVDb2xsZWN0aW9ucyxcbiAgICAgICAgcmF3U2FtcGxlRG9jdW1lbnQ6IGFzc2V0SW5wdXRzWzBdIC8vIEluY2x1ZGUgZmlyc3QgcmF3IGRvY3VtZW50IGZvciBkZWJ1Z2dpbmdcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Fzc2V0IGlucHV0cyBzdW1tYXJ5IEFQSSBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGFzc2V0IGlucHV0cyBzdW1tYXJ5JywgZGV0YWlsczogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNsaWVudFByb21pc2UiLCJHRVQiLCJjbGllbnQiLCJkYiIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX0RCIiwicG9zc2libGVDb2xsZWN0aW9ucyIsImFzc2V0SW5wdXRzIiwic291cmNlQ29sbGVjdGlvbiIsImNvbGxlY3Rpb25OYW1lIiwiY29sbGVjdGlvbiIsImNvdW50IiwiY291bnREb2N1bWVudHMiLCJjb25zb2xlIiwibG9nIiwiZmluZCIsInRvQXJyYXkiLCJlIiwibWVzc2FnZSIsImxlbmd0aCIsImpzb24iLCJhc3NldHMiLCJzdW1tYXJ5IiwidG90YWxBc3NldHMiLCJ0b3RhbENhcGFjaXR5IiwidG90YWxDYXBleCIsInRvdGFsRGVidCIsInRvdGFsRXF1aXR5IiwiYXZnR2VhcmluZyIsImF2Z0lSUiIsImJyZWFrZG93biIsImJ5VHlwZSIsImJ5UmVnaW9uIiwiYnlGaW5hbmNpbmciLCJzb3VyY2UiLCJzZWFyY2hlZENvbGxlY3Rpb25zIiwiT2JqZWN0Iiwia2V5cyIsInByb2Nlc3NlZEFzc2V0cyIsIm1hcCIsImFzc2V0IiwiZ2V0SWQiLCJhc3NldF9pZCIsImlkIiwiYXNzZXRJZCIsImdldE5hbWUiLCJhc3NldF9uYW1lIiwibmFtZSIsImFzc2V0TmFtZSIsImdldFR5cGUiLCJ0eXBlIiwiYXNzZXRUeXBlIiwiZ2V0UmVnaW9uIiwicmVnaW9uIiwiYXNzZXRSZWdpb24iLCJnZXRDYXBhY2l0eSIsInBhcnNlRmxvYXQiLCJjYXBhY2l0eSIsImFzc2V0Q2FwYWNpdHkiLCJjYXBhY2l0eV9mYWN0b3IiLCJjYXBhY2l0eUZhY3RvciIsImFubnVhbF9kZWdyYWRhdGlvbiIsImFubnVhbERlZ3JhZGF0aW9uIiwiZGVncmFkYXRpb24iLCJ2b2x1bWVfbG9zc19hZGp1c3RtZW50Iiwidm9sdW1lTG9zc0FkanVzdG1lbnQiLCJ2b2x1bWVMb3NzIiwiYXNzZXRfbGlmZSIsInBhcnNlSW50IiwiYXNzZXRMaWZlIiwibGlmZSIsImNvbnN0cnVjdGlvbl9zdGFydF9kYXRlIiwiY29uc3RydWN0aW9uU3RhcnREYXRlIiwiY29uc3RydWN0aW9uU3RhcnQiLCJvcGVyYXRpbmdfc3RhcnRfZGF0ZSIsIk9wZXJhdGluZ1N0YXJ0RGF0ZSIsIm9wZXJhdGluZ1N0YXJ0IiwiYXNzZXRTdGFydERhdGUiLCJjb3N0X2NhcGV4IiwiY2FwZXgiLCJDQVBFWCIsImNvc3RfbWF4X2dlYXJpbmciLCJjb3N0X21heEdlYXJpbmciLCJtYXhHZWFyaW5nIiwibWF4X2dlYXJpbmciLCJnZWFyaW5nIiwiY29zdF9pbnRlcmVzdF9yYXRlIiwiY29zdF9pbnRlcmVzdFJhdGUiLCJpbnRlcmVzdFJhdGUiLCJpbnRlcmVzdF9yYXRlIiwiZGVidEludGVyZXN0UmF0ZSIsImNvc3RfdGVub3JfeWVhcnMiLCJjb3N0X3Rlbm9yWWVhcnMiLCJ0ZW5vclllYXJzIiwidGVub3IiLCJkZWJ0VGVub3IiLCJjb3N0X3Rlcm1pbmFsX3ZhbHVlIiwiY29zdF90ZXJtaW5hbFZhbHVlIiwidGVybWluYWxWYWx1ZSIsInRlcm1pbmFsX3ZhbHVlIiwiY29zdF9vcGVyYXRpbmdfY29zdHMiLCJjb3N0X29wZXJhdGluZ0Nvc3RzIiwib3BlcmF0aW5nQ29zdHMiLCJvcGV4IiwiT1BFWCIsImNvc3Rfb3BlcmF0aW5nX2Nvc3RfZXNjYWxhdGlvbiIsImNvc3Rfb3BlcmF0aW5nQ29zdEVzY2FsYXRpb24iLCJvcGVyYXRpbmdDb3N0RXNjYWxhdGlvbiIsIm9wZXhFc2NhbGF0aW9uIiwiZGVidF90b3RhbF9jYXBleCIsImRlYnRfYW1vdW50IiwiZGVidEFtb3VudCIsImRlYnRfZXF1aXR5X2Ftb3VudCIsImVxdWl0eUFtb3VudCIsImRlYnRfZ2VhcmluZyIsImFjdHVhbEdlYXJpbmciLCJmaW5hbEdlYXJpbmciLCJ0YXJnZXRfZHNjcl9jb250cmFjdCIsImNvc3RfdGFyZ2V0RFNDUkNvbnRyYWN0IiwidGFyZ2V0RFNDUkNvbnRyYWN0IiwiY29udHJhY3REU0NSIiwidGFyZ2V0X2RzY3JfbWVyY2hhbnQiLCJjb3N0X3RhcmdldERTQ1JNZXJjaGFudCIsInRhcmdldERTQ1JNZXJjaGFudCIsIm1lcmNoYW50RFNDUiIsImNvbnRyYWN0cyIsImVxdWl0eV9pcnIiLCJlcXVpdHlJUlIiLCJpcnIiLCJJUlIiLCJjcmVhdGVkX2F0IiwiY3JlYXRlZEF0IiwidXBkYXRlZF9hdCIsInVwZGF0ZWRBdCIsIl9vcmlnaW5hbEZpZWxkcyIsInJlZHVjZSIsInN1bSIsImFzc2V0c1dpdGhHZWFyaW5nIiwiZmlsdGVyIiwiYXNzZXRzV2l0aElSUiIsImFjYyIsImNhcGFjaXR5QnlUeXBlIiwiY2FwZXhCeVR5cGUiLCJwb3J0Zm9saW9HZWFyaW5nIiwibWV0YWRhdGEiLCJhc3NldENvdW50IiwiaGFzSVJSRGF0YSIsImhhc0RlYnREYXRhIiwibGFzdFVwZGF0ZWQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJyYXdTYW1wbGVEb2N1bWVudCIsImVycm9yIiwiZGV0YWlscyIsInN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/dashboard/asset-inputs/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n// lib/mongodb.js\n\nconst uri = \"mongodb+srv://ProjectHalo:5apsFwxTlqN8WHQR@cluster0.quuwlhb.mongodb.net/energy_contracts?retryWrites=true&w=majority&appName=Cluster0\";\nconst options = {};\nlet client;\nlet clientPromise;\nif (false) {}\nif (true) {\n    // In development mode, use a global variable so that the value\n    // is preserved across module reloads caused by HMR (Hot Module Replacement).\n    if (!global._mongoClientPromise) {\n        client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, options);\n        global._mongoClientPromise = client.connect();\n    }\n    clientPromise = global._mongoClientPromise;\n} else {}\n// Export a module-scoped MongoClient promise. By doing this in a\n// separate module, the client can be shared across functions.\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9uZ29kYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxpQkFBaUI7QUFDb0I7QUFFckMsTUFBTUMsTUFBTUMsdUlBQXVCO0FBQ25DLE1BQU1HLFVBQVUsQ0FBQztBQUVqQixJQUFJQztBQUNKLElBQUlDO0FBRUosSUFBSSxLQUF3QixFQUFFLEVBRTdCO0FBRUQsSUFBSUwsSUFBeUIsRUFBZTtJQUMxQywrREFBK0Q7SUFDL0QsNkVBQTZFO0lBQzdFLElBQUksQ0FBQ08sT0FBT0MsbUJBQW1CLEVBQUU7UUFDL0JKLFNBQVMsSUFBSU4sZ0RBQVdBLENBQUNDLEtBQUtJO1FBQzlCSSxPQUFPQyxtQkFBbUIsR0FBR0osT0FBT0ssT0FBTztJQUM3QztJQUNBSixnQkFBZ0JFLE9BQU9DLG1CQUFtQjtBQUM1QyxPQUFPLEVBSU47QUFFRCxpRUFBaUU7QUFDakUsOERBQThEO0FBQzlELGlFQUFlSCxhQUFhQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVuZXdhYmxlYXNzZXRzLW5leHRqcy8uL2xpYi9tb25nb2RiLmpzP2Q5MjAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL21vbmdvZGIuanNcbmltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSAnbW9uZ29kYidcblxuY29uc3QgdXJpID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUklcbmNvbnN0IG9wdGlvbnMgPSB7fVxuXG5sZXQgY2xpZW50XG5sZXQgY2xpZW50UHJvbWlzZVxuXG5pZiAoIXByb2Nlc3MuZW52Lk1PTkdPREJfVVJJKSB7XG4gIHRocm93IG5ldyBFcnJvcignUGxlYXNlIGFkZCB5b3VyIE1vbmdvIFVSSSB0byAuZW52LmxvY2FsJylcbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gIC8vIEluIGRldmVsb3BtZW50IG1vZGUsIHVzZSBhIGdsb2JhbCB2YXJpYWJsZSBzbyB0aGF0IHRoZSB2YWx1ZVxuICAvLyBpcyBwcmVzZXJ2ZWQgYWNyb3NzIG1vZHVsZSByZWxvYWRzIGNhdXNlZCBieSBITVIgKEhvdCBNb2R1bGUgUmVwbGFjZW1lbnQpLlxuICBpZiAoIWdsb2JhbC5fbW9uZ29DbGllbnRQcm9taXNlKSB7XG4gICAgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSwgb3B0aW9ucylcbiAgICBnbG9iYWwuX21vbmdvQ2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KClcbiAgfVxuICBjbGllbnRQcm9taXNlID0gZ2xvYmFsLl9tb25nb0NsaWVudFByb21pc2Vcbn0gZWxzZSB7XG4gIC8vIEluIHByb2R1Y3Rpb24gbW9kZSwgaXQncyBiZXN0IHRvIG5vdCB1c2UgYSBnbG9iYWwgdmFyaWFibGUuXG4gIGNsaWVudCA9IG5ldyBNb25nb0NsaWVudCh1cmksIG9wdGlvbnMpXG4gIGNsaWVudFByb21pc2UgPSBjbGllbnQuY29ubmVjdCgpXG59XG5cbi8vIEV4cG9ydCBhIG1vZHVsZS1zY29wZWQgTW9uZ29DbGllbnQgcHJvbWlzZS4gQnkgZG9pbmcgdGhpcyBpbiBhXG4vLyBzZXBhcmF0ZSBtb2R1bGUsIHRoZSBjbGllbnQgY2FuIGJlIHNoYXJlZCBhY3Jvc3MgZnVuY3Rpb25zLlxuZXhwb3J0IGRlZmF1bHQgY2xpZW50UHJvbWlzZSJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsInVyaSIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSSSIsIm9wdGlvbnMiLCJjbGllbnQiLCJjbGllbnRQcm9taXNlIiwiRXJyb3IiLCJnbG9iYWwiLCJfbW9uZ29DbGllbnRQcm9taXNlIiwiY29ubmVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/mongodb.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Fasset-inputs%2Froute&page=%2Fapi%2Fdashboard%2Fasset-inputs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fasset-inputs%2Froute.js&appDir=C%3A%5CProjects%5Crenew-pyth%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CProjects%5Crenew-pyth&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();